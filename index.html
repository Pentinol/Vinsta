<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vinsta</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="Icon.png" type="image/x-icon">
</head>
<body>
    <div class="container">
        <header>
            <img src="Vinsta.png" class="Vinsta">
            <div class="controls">
                <button id="exportBtn">Render</button>
                <select id="exportFormat">
                    <option value="png">PNG</option>
                    <option value="jpeg">JPEG</option>
                    <option value="jpg">JPG</option>
                    <option value="webp">WebP</option>
                </select>
            </div>
        </header>
        
        <main>
            <div class="left-panel">
                <div class="panel-section compact-section">
                    <h3>PBR Generation</h3>
                    <div class="pbr-controls">
                        <div class="pbr-type-selector">
                            <label>Type Map:</label>
                            <select id="pbrType">
                                <option value="normal">Normal Map</option>
                                <option value="roughness">Roughness</option>
                                <option value="metallic">Metallic</option>
                            </select>
                        </div>
                        <div class="pbr-sliders">
                            <div class="input-group compact">
                                <label>Intensity:</label>
                                <input type="range" id="intensity" min="0" max="100" value="50" class="slider">
                                <span id="intensityValue">50%</span>
                            </div>
                            <div class="input-group compact">
                                <label>Detailing:</label>
                                <input type="range" id="detail" min="1" max="10" value="5" class="slider">
                                <span id="detailValue">5</span>
                            </div>
                        </div>
                        <div class="pbr-buttons">
                            <button id="generatePbr" class="compact-btn">Generate</button>
                            <button id="cancelPbr" class="compact-btn" style="background-color: #555;">Cancel</button>
                        </div>
                        <div class="pbr-info">
                            <small>Select layer and configure PBR map generation parameters</small>
                        </div>
                    </div>
                </div>
                
                <!-- Новая секция Texture Tools -->
                <div class="panel-section compact-section">
                    <div class="section-header">
                        <h3>Texture Tools</h3>
                        <label class="toggle-switch">
                            <input type="checkbox" id="textureToolsToggle">
                            <span class="slider-toggle"></span>
                        </label>
                    </div>
                    <div class="texture-tools-controls" id="textureToolsControls" style="display: none;">
                        <div class="brush-type-selector">
                            <label>Brush Type:</label>
                            <select id="brushType">
                                <option value="pixel">Pixel Brush</option>
                                <option value="blur">Blur Brush</option>
                                <option value="normal">Normal Brush</option>
                                <option value="graffiti">Graffiti</option>
                            </select>
                        </div>
                        
                        <div class="brush-controls">
                            <div class="input-group compact">
                                <label>Brush Size:</label>
                                <input type="range" id="brushSize" min="1" max="50" value="10" class="slider">
                                <span id="brushSizeValue">10</span>
                            </div>
                            
                            <div class="input-group compact">
                                <label>Opacity:</label>
                                <input type="range" id="brushOpacity" min="0" max="100" value="10" class="slider">
                                <span id="brushOpacityValue">10%</span>
                            </div>
                            
                            <div class="color-picker-row">
                                <label>Brush Color:</label>
                                <div class="color-picker-small">
                                    <input type="color" id="brushColor" value="#000000">
                                    <div class="color-preview-small" id="brushColorPreview"></div>
                                </div>
                            </div>
                            
                            <!-- Дополнительные настройки для разных типов кистей -->
                            <div class="brush-specific-controls" id="pixelControls">
                                <div class="input-group compact">
                                    <label>Pixel Density:</label>
                                    <input type="range" id="pixelDensity" min="1" max="10" value="5" class="slider">
                                    <span id="pixelDensityValue">5</span>
                                </div>
                            </div>
                            
                            <div class="brush-specific-controls" id="blurControls" style="display: none;">
                                <div class="input-group compact">
                                    <label>Blur Intensity:</label>
                                    <input type="range" id="blurIntensity" min="1" max="10" value="5" class="slider">
                                    <span id="blurIntensityValue">5</span>
                                </div>
                            </div>
                            
                            <div class="brush-specific-controls" id="normalControls" style="display: none;">
                                <div class="input-group compact">
                                    <label>Brush Hardness:</label>
                                    <input type="range" id="brushHardness" min="1" max="10" value="5" class="slider">
                                    <span id="brushHardnessValue">5</span>
                                </div>
                            </div>
                            
                            <div class="brush-specific-controls" id="graffitiControls" style="display: none;">
                                <div class="input-group compact">
                                    <label>Spray Density:</label>
                                    <input type="range" id="sprayDensity" min="1" max="10" value="5" class="slider">
                                    <span id="sprayDensityValue">5</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="brush-buttons">
                            <button id="clearCanvas" class="compact-btn">Clear Canvas</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="canvas-container">
                <canvas id="canvas"></canvas>
                <div class="canvas-overlay" id="canvasOverlay"></div>
                <div class="selection-outline" id="selectionOutline"></div>
                <div class="brush-cursor" id="brushCursor"></div>
            </div>
            
            <div class="right-panel">
                <div class="panel-section">
                    <h3>Layout resolution</h3>
                    <div class="resolution-controls">
                        <div class="input-row">
                            <div class="input-group compact">
                                <label>Width:</label>
                                <input type="number" id="canvasWidth" value="800" min="100" max="5000">
                            </div>
                            <div class="input-group compact">
                                <label>Height:</label>
                                <input type="number" id="canvasHeight" value="600" min="100" max="5000">
                            </div>
                        </div>
                        <button id="applyResolution" class="compact-btn">Apply</button>
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3>Presets</h3>
                    <div class="presets">
                        <button class="preset-btn compact" data-width="1920" data-height="1080">Full HD</button>
                        <button class="preset-btn compact" data-width="1280" data-height="720">HD</button>
                        <button class="preset-btn compact" data-width="1024" data-height="1024">Square</button>
                    </div>
                </div>

                <div class="panel-section" id="layerTransformPanel" style="display: none;">
                    <h3>Layer Transformation</h3>
                    <div class="transform-controls">
                        <div class="position-row">
                            <div class="input-group compact">
                                <label>X:</label>
                                <input type="number" id="layerPosX" value="0">
                            </div>
                            <div class="input-group compact">
                                <label>Y:</label>
                                <input type="number" id="layerPosY" value="0">
                            </div>
                        </div>
                        <div class="size-row">
                            <div class="input-group compact">
                                <label>Width:</label>
                                <input type="number" id="layerWidth" value="0">
                            </div>
                            <div class="input-group compact">
                                <label>Height:</label>
                                <input type="number" id="layerHeight" value="0">
                            </div>
                        </div>
                        <div class="rotation-row">
                            <div class="input-group compact">
                                <label>Rotate:</label>
                                <input type="number" id="layerRotation" value="0" min="0" max="360">
                            </div>
                        </div>
                        <button id="resetTransform" class="compact-btn">Reset</button>
                    </div>
                </div>
            </div>
            
            <div class="layers-panel">
                <h2>Layers</h2>
                <div class="layers-list" id="layersList">
                    <!-- Слои будут добавляться здесь -->
                </div>
                <button id="addLayerBtn">Add Layer</button>
            </div>
        </main>
    </div>
    
    <!-- Модальное окно выбора цвета -->
    <div id="colorModal" class="modal">
        <div class="modal-content">
            <h3>Select color for the layer</h3>
            <div class="modal-buttons">
                <button id="confirmColor">Apply</button>
                <button id="cancelColor">Cancel</button>
            </div>
            <div class="color-picker-container">
                <input type="color" id="colorPicker" value="#808080">
                <div class="color-preview" id="colorPreview"></div>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно переименования -->
    <div id="renameModal" class="modal">
        <div class="modal-content">
            <h3>Rename Layer</h3>
            <input type="text" id="renameInput" placeholder="Название слоя">
            <div class="modal-buttons">
                <button id="confirmRename">Apply</button>
                <button id="cancelRename">Cancel</button>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>